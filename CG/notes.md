# 课堂笔记

## 第 1 章  计算机图形学入门

+ 计算机图形硬件

  + 输出设备
  + 输入设备
  + 处理设备

+ 图形适配卡：显卡

  图形处理芯片：GPU

  通用图形处理器：GPGPU

+ fragment ~ pixel 【这两者真的是同一个概念吗】

+ 图形 API

  + OpenGL - 跨平台
  + DirectX - Microsoft

+ 引擎调用 API

+ 采样 - 光栅化

+ VBO 数据：位置坐标，法向量，RGB，纹理坐标

+ 计算机图形学

  + 生成图形
  + 处理图形
  + 显示图形

### 疑问

+ **fragment 和 pixel 是同一个概念吗？**

  之前在学习的时候对 fragment 只有一个大概的认识，可以理解为对顶点构成的图元的采样，但是不清楚采样的粒度是否是像素大小，后来在教程上看到这么一句话：

  > OpenGL 中的一个片段是 OpenGL 渲染一个像素所需的所有数据。
  >
  > 片段着色器的主要目的是计算一个像素的最终颜色。

  确实，片段的大小是像素级别的。

+ **为什么 OpenGL 主要处理三角形？**

  上课的时候经常听到老师说物体表面的**顶点**，当时就在想为什么不直接说物体表面的**点**，后来在教程上看到说：

  > OpenGL 主要处理三角形。

  的确，如果物体表面是由一个个小三角形构成的，说是顶点就合情合理了，但是为什么 OpenGL 主要处理三角形呢，我就去 reference 上查到了 `glDrawArrays` 的函数原型：

  ```c++
  void glDrawArrays(GLenum mode, GLint first, GLsizei count);
  ```

  其中第一个参数 `mode` 用来指定要绘制的图元类型，可取的值主要有 `GL_POINTS`, `GL_LINES`, `GL_TRIANGLES` 等等，但是没有看到矩形，我就在想为什么 `glDrawArrays` 不能直接绘制矩形呢，确实可以通过绘制两个三角形再拼接的方式间接地造出一个矩形，甚至还提供了 EBO 的方法来减少顶点个数，但是直接提供一个绘制矩形的方法不是更方便吗。

  后来我想到老师有说过为什么三角形稳定，因为只有三个顶点的时候能保证它们是**共面**的，我一下就明白了，我之前一直假设用来绘制矩形的四个顶点是共面的，所以意识不到它的麻烦之处，但是如果它们不共面的话，在片段着色器中进行纹理采样，颜色插值甚至用法向量计算光照都将成为很麻烦的问题，比如在 VBO 中指定法向量时，四个不共面的顶点中任意一点理论上都可以属于三个面，那法向量该如何指定就十分麻烦了。

  所以，在可以使用 EBO 的情况下，通过指定四个顶点直接绘制矩形显得没有必要，因为后者唯一的优势即减少顶点个数对于 EBO 来说也十分容易做到，但是非平面的复杂性以及对设计理念的违背是十分令人讨厌的。